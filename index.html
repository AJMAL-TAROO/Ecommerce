<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DodoShop - Your Premium E-commerce Store</title>
    
    <!-- TailwindCSS and DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>
    
    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        .animate-fade-out {
            animation: fadeOut 0.3s ease-out;
        }
        
        #cart-drawer {
            transition: transform 0.3s ease-in-out;
        }
        
        .stat-card {
            transition: transform 0.2s ease-in-out;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
        }
        
        .category-bar {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-base-200">
    <!-- Navigation Bar -->
    <div class="navbar bg-base-100 shadow-lg sticky top-0 z-40">
        <div class="container mx-auto">
            <div class="flex-1">
                <a href="javascript:void(0)" id="beverlyshop-logo" class="btn btn-ghost normal-case text-xl">
                    <i class="fas fa-shopping-bag mr-2"></i>
                    DodoShop
                </a>
            </div>
            <div class="flex-none gap-2 flex items-center">
                <div class="form-control">
                    <input type="text" id="search-input" placeholder="Search products..." class="input input-bordered w-48 md:w-64" />
                </div>
                <button class="btn btn-ghost btn-circle" onclick="app.toggleCart()">
                    <div class="indicator">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <span id="cart-count" class="badge badge-sm badge-primary indicator-item hidden">0</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="hero min-h-[40vh] bg-gradient-to-r from-primary to-secondary text-primary-content">
        <div class="hero-content text-center">
            <div class="max-w-md">
                <h1 class="mb-5 text-5xl font-bold">Welcome to DodoShop</h1>
                <p class="mb-5">Discover amazing products at unbeatable prices. Shop now and enjoy free shipping on orders over ₨50!</p>
                <button class="btn btn-accent" onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth'})">
                    Shop Now
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Categories Filter -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4">Browse by Category</h2>
            <div id="categories" class="flex flex-wrap gap-2">
                <!-- Categories will be loaded here -->
            </div>
        </div>

        <!-- Products Grid -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold mb-4">Featured Products</h2>
            <div id="products" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Products will be loaded here -->
                <div class="col-span-full flex justify-center py-12">
                    <span class="loading loading-spinner loading-lg"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div id="admin-dashboard-modal" class="modal">
        <div class="modal-box w-11/12 max-w-7xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-bold text-3xl">Admin Dashboard</h3>
                <button class="btn btn-ghost btn-circle" onclick="app.closeAdminDashboard()">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="dashboard-content">
                <!-- Dashboard content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-box w-11/12 max-w-5xl">
            <div id="modal-content">
                <!-- Modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Checkout Modal for Juice by MCB -->
    <div id="checkout-modal" class="modal">
        <div class="modal-box w-11/12 max-w-2xl">
            <h3 class="font-bold text-2xl mb-4">Checkout - Juice by MCB Payment</h3>
            <p class="text-sm text-gray-600 mb-4">Please complete your payment using Juice by MCB and provide your delivery details below.</p>
            
            <form id="checkout-form" class="space-y-4">
                <!-- Payment Screenshot Upload -->
                <div class="form-control w-full">
                    <label class="label">
                        <span class="label-text font-semibold">Payment Screenshot <span class="text-error">*</span></span>
                    </label>
                    <input type="file" id="payment-screenshot" accept="image/*" class="file-input file-input-bordered w-full" required />
                    <label class="label">
                        <span class="label-text-alt">Upload screenshot of your Juice by MCB payment confirmation</span>
                    </label>
                </div>

                <!-- Full Name -->
                <div class="form-control w-full">
                    <label class="label">
                        <span class="label-text font-semibold">Full Name <span class="text-error">*</span></span>
                    </label>
                    <input type="text" id="customer-name" placeholder="Enter your full name" class="input input-bordered w-full" required />
                </div>

                <!-- Phone Number -->
                <div class="form-control w-full">
                    <label class="label">
                        <span class="label-text font-semibold">Phone Number <span class="text-error">*</span></span>
                    </label>
                    <input type="tel" id="customer-phone" placeholder="Enter your phone number" class="input input-bordered w-full" required />
                </div>

                <!-- Delivery Address -->
                <div class="form-control w-full">
                    <label class="label">
                        <span class="label-text font-semibold">Delivery Address <span class="text-error">*</span></span>
                    </label>
                    <textarea id="customer-address" placeholder="Enter your complete delivery address" class="textarea textarea-bordered h-24 w-full" required></textarea>
                </div>

                <!-- Order Summary -->
                <div class="divider"></div>
                <div class="bg-base-200 p-4 rounded-lg">
                    <h4 class="font-semibold mb-2">Order Summary</h4>
                    <div class="flex justify-between mb-2">
                        <span>Total Items:</span>
                        <span id="checkout-items-count" class="font-semibold">0</span>
                    </div>
                    <div class="flex justify-between text-lg">
                        <span class="font-bold">Total Amount:</span>
                        <span id="checkout-total" class="font-bold text-primary">₨0.00</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="modal-action">
                    <button type="button" class="btn btn-outline" onclick="app.closeCheckoutModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-check mr-2"></i>
                        Complete Order
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Shopping Cart Drawer -->
    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-full md:w-96 bg-base-100 shadow-2xl z-50 translate-x-full overflow-y-auto">
        <div class="p-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Shopping Cart</h2>
                <button class="btn btn-ghost btn-circle" onclick="app.toggleCart()">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="cart-items" class="space-y-4 mb-6">
                <!-- Cart items will be loaded here -->
            </div>
            
            <div class="border-t pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xl font-bold">Total:</span>
                    <span id="cart-total" class="text-2xl font-bold text-primary">₨0.00</span>
                </div>
                <button class="btn btn-primary btn-block btn-lg" onclick="app.checkout()">
                    <i class="fas fa-credit-card mr-2"></i>
                    Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="modal">
        <div class="modal-box">
            <h3 class="font-bold text-2xl mb-4">Admin Login</h3>
            <form id="admin-login-form" class="space-y-4">
                <div class="form-control">
                    <label class="label">
                        <span class="label-text font-semibold">Username</span>
                    </label>
                    <input type="text" id="admin-username" placeholder="Enter username" class="input input-bordered" required />
                </div>
                <div class="form-control">
                    <label class="label">
                        <span class="label-text font-semibold">Password</span>
                    </label>
                    <input type="password" id="admin-password" placeholder="Enter password" class="input input-bordered" required />
                </div>
                <div class="modal-action">
                    <button type="button" class="btn btn-outline" onclick="app.closeAdminLogin()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Login
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer footer-center p-10 bg-base-300 text-base-content rounded mt-12">
        <div class="grid grid-flow-col gap-4">
            <a class="link link-hover">About us</a> 
            <a class="link link-hover">Contact</a> 
            <a class="link link-hover">Privacy Policy</a> 
            <a class="link link-hover">Terms of Service</a>
        </div> 
        <div>
            <div class="grid grid-flow-col gap-4">
                <a><i class="fab fa-twitter text-2xl"></i></a> 
                <a><i class="fab fa-youtube text-2xl"></i></a> 
                <a><i class="fab fa-facebook text-2xl"></i></a>
            </div>
        </div> 
        <div>
            <p>Copyright © 2024 - DodoShop E-commerce Platform</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="./js/firebase-config.js"></script>
    <script src="./js/firebase-service.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>